<!DOCTYPE html>
<html>
  <head>
    <title>Laboratory</title>
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">
    <style>
    /*
SOLARIZED HEX     16/8 TERMCOL  XTERM/HEX   L*A*B      RGB         HSB
--------- ------- ---- -------  ----------- ---------- ----------- -----------
base03    #002b36  8/4 brblack  234 #1c1c1c 15 -12 -12   0  43  54 193 100  21
base02    #073642  0/4 black    235 #262626 20 -12 -12   7  54  66 192  90  26
base01    #586e75 10/7 brgreen  240 #585858 45 -07 -07  88 110 117 194  25  46
base00    #657b83 11/7 bryellow 241 #626262 50 -07 -07 101 123 131 195  23  51
base0     #839496 12/6 brblue   244 #808080 60 -06 -03 131 148 150 186  13  59
base1     #93a1a1 14/4 brcyan   245 #8a8a8a 65 -05 -02 147 161 161 180   9  63
base2     #eee8d5  7/7 white    254 #e4e4e4 92 -00  10 238 232 213  44  11  93
base3     #fdf6e3 15/7 brwhite  230 #ffffd7 97  00  10 253 246 227  44  10  99
yellow    #b58900  3/3 yellow   136 #af8700 60  10  65 181 137   0  45 100  71
orange    #cb4b16  9/3 brred    166 #d75f00 50  50  55 203  75  22  18  89  80
red       #dc322f  1/1 red      160 #d70000 50  65  45 220  50  47   1  79  86
magenta   #d33682  5/5 magenta  125 #af005f 50  65 -05 211  54 130 331  74  83
violet    #6c71c4 13/5 brmagenta 61 #5f5faf 50  15 -45 108 113 196 237  45  77
blue      #268bd2  4/4 blue      33 #0087ff 55 -10 -45  38 139 210 205  82  82
cyan      #2aa198  6/6 cyan      37 #00afaf 60 -35 -05  42 161 152 175  74  63
green     #859900  2/2 green     64 #5f8700 60 -20  65 133 153   0  68 100  60
*/
      body {
        font-family: Verdana, Geneva, sans-serif;
        background-color: #fdf6e3;
      }

      #file-select {
        width: 800px;
        background-color: white;
        margin: 200px auto;
      }

      #top-bar {
        position: fixed;
        top: 0px;
        left: 0px;
        display: flex;
        justify-content: space-between;
        background-color: white;
        border-bottom: 1px solid black;
        width: 100%;
        height: 45px;
        /*vertical-align: center;*/
        line-height: 45px;
      }
      #top-bar-filler {
        /* Prevents main content from displaying under the top bar */
        height: 45px;
      }
      .bottom-filler {
        /* Makes space for type view from below without resizing page */
        height: 300px;
      }

      /*  Search box  */
      #search-input-container {
        display: inline-block;
        width: 800px;
      }
      #search-input {
        font-size: 16pt;
        font-family: monospace;
        width: 800px;
        border: none;
      }
      #search-input-suggestions {
        position: absolute;
        background-color: white;
        width: 800px;
      }
      #search-input-suggestions select {
        width: 800px;
        font-family: monospace;
        font-size: 12pt;
      }

      /*  Backtracker  */
      #backtracker-container {
        display: inline-block;
        /*padding: 6px 6px 6px 6px;*/
        height: 100%;
      }
      #backtracker-progress {
        width: 300px;
      }
      #backtracker-title {}

      #main-content {
        position: absolute;
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        border: 0;
        visibility: hidden;
        overflow-x: hidden;
      }

      /*  Code view  */
      #code-view-container {
        min-width: 800px;
        width: 80%;
        display: block;
        vertical-align: top;
        margin: 0 auto; /* center horizontally */
      }
      #code-view-body {
        font-family: 'Source Code Pro', monospace;
        size: 12pt;
        white-space: pre-wrap;
        cursor: default;
        color: #586e75;
      }
      #code-view-title {
        font-size: 20pt;
        display: none;
      }
      #code-view-filename {
        font-size: 10pt;
        color: gray;
        display: inline-block;
      }
      #code-view-filename ol {
        list-style-type: none;
      }
      .keyword {
        color: #6c71c4;
      }
      .typename {
        color: #b58900;
      }
      span.highlighted-token {
        color: #073642;
        background-color: #cb4b16;
      }


      /*  Type view  */
      #type-view-container {
        z-index: 1;
        display: inline-block;
        background-color: #111;
        position: absolute;
        opacity: 0.9;
        color: white;
        padding: 4px 4px 4px 4px;
      }
      #type-view-expression-kind {
        color: orange;
      }
      #type-view-storage-location-name {
        color: gray;
      }
      #type-view-warning {
        background-color: #dc322f;
        color: black;
        text-align: center;
      }
      .value-base-class-label {}
      .value-base-class {}
      .value-flag-label {
        padding-right: 6px;
      }
      .value-flag-on {
        color: #dc322f;
      }
      .value-flag-off {
        color: #268bd2;
      }

      /*  Constraint view  */
      #constraint-view-table {
        background-color: #eee8d5;
        border-collapse: collapse;
        text-align: left;
        width: 100%;
        height: 100%;
        font-family: sans-serif;
      }
      #constraint-view-table td {
        vertical-align: center;
      }

      .storage-location {
        font-family: 'Source Code Pro', monospace;
      }
      .code-line-highlighted {
        background-color: #eee8d5;
      }

      a.reference {
      }
      a.reference:hover {
        border-bottom: 1px solid black;
        cursor: pointer;
      }
      a.reference:visited {}

      .constraint-label, .constraint-guard {
        color: #93a1a1;
        padding-left: 4px;
        font-size: 10px;
      }
      .constraint-line-number {
        padding-left: 4px;
        font-size: 10px;
        color: #93a1a1;
        background-color: #eee8d5;
      }
      .constraint-escape {
        font-style: italic;
      }
      .right {
        text-align: right;
      }

      .related-element {
        color: #073642;
        background-color: #cb4b16;
      }

    </style>
  </head>
  <body id="body">
    <div id="file-select">
      Dill file: <input type="file" id="kernel-file-input" />
      Report file: <input type="file" id="report-file-input" />
      <input type="button" id="reload-button" value="Reload"/>
    </div>

    <div id="main-content" style="position: absolute;"> <!-- shown when files are selected -->

      <div id="top-bar">
        <div id="search-input-container">
          <input type="text" id="search-input" placeholder="Fuzzy search (hotkey: q)"/>
          <div id="search-input-suggestions">
            <select id="search-input-select" size="10"></select>
          </div>
        </div>

        <div id="backtracker-container">
          <span id="backtracker-title">Backtracking</span>
          <progress id="backtracker-progress"></progress>
          <input type="button" id="backtracker-reset-button" value="Stop backtracking" />
        </div>
      </div>

      <div id="top-bar-filler"></div>

      <div id="code-view-container">
        <div id="code-view-filename"></div>
        <div id="code-view-body"></div>
      </div>

      <table id="constraint-view-table">
        <tr id="constraint-view-header">
          <th style="width: 35%;"></th>
          <th style="width: 10px;"></th>
          <th style="width: 35%;"></th>
          <th style="width: auto;"></th>
        </tr>
      </table>

      <!-- Prevent type view from resizing and scrolling the page -->
      <div class="bottom-filler"></div>
    </div>

    <div id="type-view-container">
      <div id="type-view-warning"></div>
      <span id="type-view-expression-kind"></span>
      <span id="type-view-storage-location-name"></span>
      <table id="type-view-table"></table>
    </div>

    <div id="debug-box"/>
    <script type="application/javascript" src="laboratory.js"></script>

  </body>
</html>
